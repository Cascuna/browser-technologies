
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
</head>
<body class='focus-background'>
    <a href='dialog.html' id='modallink'>Open de Modal</a>
   
  
<script type='text/javascript'>
    var modal = document.createElement("dialog")
    modal.setAttribute("open", "open")
    modal.className = "fallbackmodal"

    var link = document.getElementById("modallink")
    var setText = function(response){
        modal.innerHTML = response
        document.body.appendChild(modal)
    }
   
    link.onclick = (event) => {
        event.preventDefault()
        modal.classList.toggle('fallbackmodal')
        document.body.classList.toggle('focus-background')
         if(typeof(fetch) === undefined) {
            var req = new XMLHttpRequest()
            req.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    setText(req.responseText)
                }
            };
            req.open("GET", link.href , true);
            req.send();
        }
        else{
            fetch("./dialog.html")
            .then((result) => {
                return result.text()
            }).then((result) => {
                setText(result)
                return result
            }).catch((result) => {
               
                    window.location = link.href
               
            })
        }
        
    }

     
    
</script>
</body>
</html>