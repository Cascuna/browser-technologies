<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    <style>
    .AlphabetNav {
        position: fixed;
        top: 0;
        right: 0;
        width: 100%;
        display: flex;
        justify-content: space-around;
    
        padding: .5rem;
        background: ghostwhite;
        }
    .AlphabetNav a {
        display: flex;
        padding: .3em;
        color: darkgray;
    }


    .AlphabetNav a:hover {
    background: #ddd;
    color: #444;
    }

    * {
      scroll-behavior: smooth;
    }
    section header {
        position: sticky;
        top: 18px;
        background-color: #FFCC00;
        box-shadow: 0 2px 14px rgba(0, 0, 0, 0.3);
        z-index: 5;
        margin-bottom: 3px;
    }

    section header h3 {
        padding: 8px;
        color: whitesmoke;
        margin: 0;
    }
    details {
        margin: 0 32px 0 0;
        
    }
    body {
        font-family: 'Ubuntu', sans-serif;
    }

    summary img {
        border-radius: 50%;
        display: inline-block;
        vertical-align: middle;
        height: 48px; height: 3em;
        width: 48px; height: 3em;
        margin: 6px 0 6px 0;
    }
    summary {
        display: block;
        position: relative;
        border: 1px solid rgb(220,220,220);
        margin: 0 0 0.25em 0.25em; 
        cursor: pointer; 
        padding: 0 0 0 6px;

        transition: 0.15s all ease-in;
    }

    summary:focus,
    summary:hover {
        border: 1px solid rgb(190,190,190);
        transform: scale(1.015);

    }
    details[open] > summary {
        border: 1px solid rgb(190,190,190);
        transform: scale(1.015);
    }

    summary h4 {
        display: inline-block;
        padding: 0 0 0 8px;
        margin: 0;
    }

    ul, ol {
       list-style-type: none; 
    }

    a {
        font-size: 1.2em;
        line-height: 1;
        font-weight: 500;
        text-decoration: none;
    }
    nav {
        position: sticky;
        z-index: 6;
        top: 0;
        background-color: whitesmoke;
    }

    nav li {
        display: inline-block;
    }

   
    li div {
        margin-bottom: 15px;
    }
    a {
        position: relative;
    }

    .my-caret {
        cursor: pointer;
        width: 30px;
        height: 30px;
        border-top: 5px black solid;
        border-left: 5px black solid;
        -webkit-transform: rotate(225deg);
        -moz-transform: rotate(225deg);
        -o-transform: rotate(225deg);
        -ms-transform: rotate(225deg);
        transform: rotate(225deg);
        -webkit-transition: all 0.5s ease-in-out;
        -moz-transition: all 0.5s ease-in-out;
        -o-transition: all 0.5s ease-in-out;
        -ms-transition: all 0.5s ease-in-out;
        transition: all 0.5s ease-in-out;
        margin: 0 3px 6px 3px;
    }

    .my-caret:hover {
        animation: scroll 0.5s infinite;
    }
    .my-caret.active {
        -webkit-transform: rotate(225deg);
        -moz-transform: rotate(225deg);
        -o-transform: rotate(225deg);
        -ms-transform: rotate(225deg);
        transform: rotate(225deg);
        margin: 0 3px 6px 3px;
        }

    @-webkit-keyframes scroll {
    0% {
        -webkit-transform: translateY(0) rotate(225deg);
                transform: translateY(0) rotate(225deg);
    }
    100% {
        -webkit-transform: translateY(10px) rotate(225deg);
                transform: translateY(10px) rotate(225deg);
    }
    }

    </style>
</head>
<body>
    <header>
        <h1> Browser Technologies </h1>
        <h2> Contactenlijst </h2> 
    </header>
    <nav class="AlphabetNav">
        <ul>
        {% for char in chars %}
                <li> <a href="#{{char}}">{{char}}</a> </li>
        {% endfor %}
        </ul>
        
    </nav>
    <input type='text' id='searchbtn' onkeyup="keyUp()">
    <ol>   
        {% for char in chars %}
            <li>
                <section id='{{ char }}'>
                <header>
                        <h3> {{ char }} </h3>
                    </header>
                    <ul>
                    {% for user in users %}
                    {% if user.name.first | first === char | lower %}
                    <li class='persondetails'>
                        <details>
                                <summary>
                                    <img src= {{ user.picture.thumbnail }} alt=''>
                                    <h4> {{ user.name.first | title }} {{ user.name.last | title }} </h4>
                                </summary>
                                <ol>
                                    <li>
                                        <section>
                                            <h5> Naam informatie </h4>
                                            <dl>
                                                <dt>Voornaam</dt>
                                                <dd>{{ user.name.first }}</dd>
                                            </dl>
                                            <dl>
                                                <dt>Achternaam</dt>
                                                <dd>{{ user.name.last }}</dd>
                                            </dl>
                                        </section>
                                        <div>
                                              
                                            <a href='/contact/{{user.name.first}}_{{user.name.last}}' onclick='getMoreUserInfo(event)'>Meer informatie
                                                <div class="my-caret"></div>
                                            </a>
                                        </div>
                                    </li>
                                </ol> 
                        </details>
                    </li>
                        {% endif %}
                    {% endfor %}
                    </ul>
                </section>
            </li>
        {% endfor %}
    </ol>  
    <script type="text/javascript"> 
        var filter = document.getElementById("searchbtn");
        var persondetails = document.getElementsByClassName("persondetails");
        
        function getMoreUserInfo(event){
            // event.preventDefault();
            event.preventDefault();

            fetch(event.target.href).then((data) =>{
                console.log()
                var dummyDiv = document.createElement('div')
                
               data.text().then((text)=>{
                dummyDiv.innerHTML = text
                    for(section of dummyDiv.querySelectorAll('section')) {
                        event.target.parentNode.parentNode.appendChild(section)
                    }
                //   return false;
                })
                console.log(dummyDiv)
                // let docbod = doc.firstChild.firstChild
                // console.log(docbod)

                // console.log(event.parentNode.parentNode.appendChild())
                // return false;
            })
            
        }

        // function keyUp(){
        //     filter.value.toUpperCase();
        //     for (i = 0; i < persondetails.length; i++) {
        //         if (persondetails[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
        //             persondetails[i].style.display = "";
        //         } else {
        //             persondetails[i].style.display = "none";
        //         }
        //     }
        // }
    </script>
</body>
</html>